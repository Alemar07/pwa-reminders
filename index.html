<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1" />
<title>MF Gestor de Citas</title>
<meta name="theme-color" content="#5e5bff">
<link rel="manifest" href="manifest.webmanifest?v=topforce">
<link rel="icon" href="icons/icon-192.png" sizes="192x192">
<link rel="apple-touch-icon" href="icons/icon-192.png">
<style>
  *, *::before, *::after { box-sizing: border-box; }
  html{ -webkit-text-size-adjust:100%; }
  :root{ --violet:#5e5bff; --cyan:#10b5ff; --ink:#0b1220; --line: rgba(94,91,255,.22); }
  body{
    margin:0; overflow-x:hidden; background:linear-gradient(180deg,#0c2242,#11162a 55%,#0b0e1a);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial;
  }
  .card{ width:min(980px,100%); margin:0 auto; background:linear-gradient(180deg,rgba(255,255,255,.86),rgba(255,255,255,.82)); }
  @media (min-width:900px){ .card{ border-radius:28px; box-shadow:0 40px 100px rgba(0,0,0,.25),0 30px 70px rgba(94,91,255,.18); } }
  .auth-head{ display:flex; align-items:center; gap:12px; padding:24px 20px 8px }
  .logo{ width:46px; height:46px; border-radius:12px; display:grid; place-items:center; color:#fff; font-weight:800;
         background:linear-gradient(135deg,var(--cyan),var(--violet)); box-shadow:0 10px 30px rgba(16,181,255,.25) }
  .title{ margin:0; font-size:clamp(22px,3.8vw,28px); color:var(--ink) }
  .subtitle{ margin:2px 0 0; font-size:clamp(12px,2.4vw,14px); color:#475569 }
  .hr{ height:1px; background:var(--line); margin:10px 0 0 }
  /* Main SIEMPRE arriba */
  .main{ padding:14px 16px 24px; overflow-anchor:none; }
  .stage{ display:none }
  .stage-inner{ width:100%; max-width:600px; margin:12px auto 0; display:grid; gap:24px }
  .row{ display:grid; grid-template-columns:1fr; gap:16px }
  .field{ position:relative }
  .field input, .field select, .field textarea{
    width:100%; border:1px solid rgba(94,91,255,.24); border-radius:18px;
    padding:16px 48px 16px 44px; background:rgba(255,255,255,.94);
    font-size:17px; color:var(--ink); box-shadow: inset 0 1px 0 rgba(255,255,255,.6), 0 10px 24px rgba(94,91,255,.08);
  }
  .field select{ min-height:56px } .field textarea{ min-height:130px; resize:vertical }
  .icon-left, .icon-right{ position:absolute; top:50%; transform:translateY(-50%); width:22px; height:22px; opacity:.7 }
  .icon-left{ left:14px } .icon-right{ right:14px; cursor:pointer }
  .btn{ display:inline-flex; align-items:center; justify-content:center; width:100%; padding:18px; border:none; border-radius:22px;
        background:linear-gradient(90deg,var(--cyan),var(--violet)); color:#fff; font-weight:800;
        box-shadow:0 18px 34px rgba(16,181,255,.28),0 18px 34px rgba(94,91,255,.28) }
</style>
</head>
<body>
  <div class="card">
    <div class="auth-head">
      <div class="logo">MF</div>
      <div><h1 id="hdrTitle" class="title">Iniciar sesión</h1><p class="subtitle">MF Gestor de Citas</p></div>
    </div>
    <div class="hr"></div>

    <main id="main" class="main">
      <section id="loginView" class="stage">
        <div class="stage-inner">
          <div class="row">
            <div class="field">
              <svg class="icon-left" viewBox="0 0 24 24" fill="none"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5.33 0-8 2.67-8 6v1h16v-1c0-3.33-2.67-6-8-6Z" fill="currentColor"/></svg>
              <input id="loginUser" placeholder="Usuario" autocomplete="username">
            </div>
            <div class="field">
              <svg class="icon-left" viewBox="0 0 24 24" fill="none"><path d="M12 12a3 3 0 0 0-3 3v3h6v-3a3 3 0 0 0-3-3Zm0-7a5 5 0 0 1 5 5v3H7V10a5 5 0 0 1 5-5Z" fill="currentColor"/></svg>
              <input id="loginPass" type="password" placeholder="Contraseña" autocomplete="current-password">
              <svg id="toggleLogin" class="icon-right" viewBox="0 0 24 24" fill="none"><path d="M12 5C7 5 2.73 8.11 1 12c1.73 3.89 6 7 11 7s9.27-3.11 11-7c-1.73-3.89-6-7-11-7Zm0 12a5 5 0 1 1 5-5 5 5 0 0 1-5 5Z" fill="currentColor"/></svg>
            </div>
          </div>
          <div class="row"><button id="btnLogin" class="btn" type="button">Crear y acceder</button></div>
        </div>
      </section>

      <!-- (el resto de vistas omitidas aquí por brevedad en esta demo forzada al top) -->
    </main>
  </div>

<script>
  // Fuerza posición arriba en todos los navegadores
  if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
  function toTop(){ window.scrollTo(0,0); document.documentElement.scrollTop=0; document.body.scrollTop=0; }
  window.addEventListener('load', toTop, {once:true});
  window.addEventListener('pageshow', function(e){ if(e.persisted) toTop(); });
  window.addEventListener('orientationchange', function(){ setTimeout(toTop, 60); });
  document.addEventListener('focusin', function(){ /* evita que al enfocar inputs el browser recuerde un offset */ if(window.scrollY>0) toTop(); });

  // Mostrar el login de inmediato
  document.addEventListener('DOMContentLoaded', function(){
    document.getElementById('loginView').style.display='block';
    toTop();
  });
</script>

<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('./service-worker.js?v=topforce').catch(()=>{});
    });
  }
</script>
</body>
</html>
